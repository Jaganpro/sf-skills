# Val_Else_Nested_If - NEGATIVE TEST: else: with nested if does NOT compile
# Purpose: Document that else: blocks CANNOT contain nested if statements
#
# RESULT: else: with nested if is NOT valid (as of Spring '26)
# - Compiler error: Unexpected 'if' at the nested if line
# - Cascading errors: Unexpected '@utils', Missing colon, Invalid syntax
# - This DISPROVES SKILL.md Approach 3 ("Community validated")
#
# VALID ALTERNATIVES (tested in this agent):
#   ✓ Approach 1: Compound conditions (if A and B:)
#   ✓ Approach 2: Sequential ifs (flatten to separate if blocks)
#   ✗ Approach 3: else: with nested if — DOES NOT COMPILE
#
# SKILL.md Section: if/else Nesting Rules
# Source: TDD validation 2026-02-14 against AgentforceTesting

system:
   messages:
      welcome: "Else-nested-if validation ready."
      error: "Else-nested-if validation error."
   instructions: "This agent confirms else: with nested if does NOT compile. Uses compound conditions instead."

config:
   agent_name: "Val_Else_Nested_If"
   agent_label: "Validation: Else Nested If"
   description: "NEGATIVE TEST: else with nested if does not compile"
   default_agent_user: "multistepworkflows@00dak00000gdhgd1068670160.ext"

variables:
   tier: mutable string = "standard"

topic classify:
   description: "Classify customer tier using compound conditions (Approach 1)"
   reasoning:
      instructions: ->
         # Approach 1: Compound conditions (WORKS)
         if @variables.tier == "gold":
            | Gold tier customer detected.

         if @variables.tier == "silver":
            | Silver tier customer detected.

         # Approach 2: Sequential ifs with default (no not-equal needed)
         if @variables.tier == "standard":
            | Standard tier customer detected.
      actions:
         done: @utils.transition to @topic.complete
            description: "Finish classification"

topic complete:
   description: "Validation complete"
   reasoning:
      instructions: |
         Else-nested-if validation complete.
         CONFIRMED NOT VALID: else: with nested if (Unexpected 'if' error).
         CONFIRMED VALID: Compound conditions (if A and B:) and sequential ifs.

start_agent entry:
   description: "Entry point for else-nested-if validation"
   reasoning:
      instructions: |
         Begin else-nested-if validation.
      actions:
         begin: @utils.transition to @topic.classify
            description: "Start tier classification"
