# Val_No_Outputs - Tests action with inputs but NO outputs block (NEGATIVE test)
# Purpose: Verify that omitting outputs: block causes "Internal Error" on publish
#
# GAP 6: Issue 15 states I/O schemas are required. This test specifically validates
#         that having inputs: but NO outputs: block still triggers the Internal Error.
#         Previously Issue 15 said "inputs/outputs" generically — this proves
#         the outputs: block specifically is required.
#
# Tests:
#   NEGATIVE: Action with inputs but no outputs block → expected "Internal Error"
#
# Apex Target: TestApexAction (already deployed to AgentforceTesting)
#   - Has both input and output wrappers
#   - Omitting outputs: from Agent Script should fail at publish
#
# SKILL.md Section: Known Issue 15 (outputs required)

system:
   messages:
      welcome: "No outputs validation agent."
      error: "Validation error occurred."
   instructions: "This agent validates that missing outputs block causes publish failure."

config:
   agent_name: "Val_No_Outputs"
   agent_label: "Validation: No Outputs"
   description: "NEGATIVE TEST: Tests that action with inputs but no outputs fails"
   default_agent_user: "multistepworkflows@00dak00000gdhgd1068670160.ext"

topic no_outputs_test:
   description: "Test missing outputs block causes failure"

   actions:
      process_text:
         description: "Process text with inputs but NO outputs declared"
         inputs:
            inputText: string
               description: "Text input for processing"
         target: "apex://TestApexAction"

   reasoning:
      instructions: |
         Attempt to process text.
      actions:
         process: @actions.process_text
            with inputText = ...

start_agent entry:
   description: "Entry point for no outputs validation"
   reasoning:
      instructions: |
         Begin validation by transitioning to the test topic.
      actions:
         begin: @utils.transition to @topic.no_outputs_test
            description: "Start no outputs test"
